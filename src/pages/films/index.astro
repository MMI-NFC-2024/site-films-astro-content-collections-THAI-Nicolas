---
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";
import FilmCard from "../../components/FilmCard.astro";

const films = await getCollection("films");
---

<Layout titre="Tous les films">
  <!-- Breadcrumbs -->
  <div class="breadcrumbs text-sm mb-6">
    <ul>
      <li><a href="/">Accueil</a></li>
      <li>Films</li>
    </ul>
  </div>

  <!-- En-tête -->
  <div class="mb-8">
    <h1 class="text-4xl font-bold mb-3">Tous les films</h1>
    <p class="text-lg opacity-70">Découvrez notre collection de {films.length} films</p>
  </div>
  
  <!-- Grille de films -->
  <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 md:gap-6">
    {films.map((film) => (
      <FilmCard
        id={film.id}
        titre={film.data.titre}
        affiche={film.data.affiche}
        dateSortie={film.data.dateSortie}
        genre={film.data.genre}
      />
    ))}
  </div>
</Layout>